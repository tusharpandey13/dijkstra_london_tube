from flask import Flask, render_template, url_for, send_from_directory, jsonify
from djikstra import shortest_path

graphdata = {
    1: {73: 0.69, 234: 0.69, 265: 0.69, 52: 1.0},
    2: {156: 1.0, 263: 1.0},
    3: {263: 1.0, 295: 1.0, 156: 1.0},
    4: {70: 0.69, 201: 0.69},
    5: {194: 0.69, 252: 0.69},
    6: {46: 1.0},
    7: {145: 0.25, 188: 0.25},
    8: {124: 0.25, 264: 0.25},
    9: {31: 0.69, 232: 0.69},
    10: {95: 0.69, 128: 0.69},
    11: {
        163: 0.69,
        212: 0.69,
        83: 1.0,
        104: 1.0,
        28: 0.68,
        249: 0.68,
        94: 1.0
    },
    12: {56: 0.25, 257: 0.25},
    13: {156: 0.68, 250: 0.68, 225: 0.69, 157: 0.25, 167: 0.25, 279: 0.68},
    14: {92: 1.0, 167: 1.0},
    15: {78: 1.0, 269: 1.0},
    16: {91: 0.68, 173: 0.68},
    17: {110: 0.69, 293: 1.0, 74: 0.69},
    18: {186: 1.0, 193: 1.0},
    19: {97: 0.69},
    20: {65: 0.69, 217: 0.69},
    21: {67: 1.0, 269: 1.0},
    22: {47: 0.25, 111: 0.25},
    23: {41: 0.68, 157: 0.68},
    24: {156: 0.68, 164: 0.68},
    25: {161: 1.0, 255: 1.0},
    26: {260: 0.2, 274: 0.2},
    27: {79: 0.69, 201: 0.69},
    28: {162: 0.68, 192: 0.68, 107: 0.68, 11: 0.68},
    29: {84: 0.25, 157: 0.25},
    30: {176: 0.69, 190: 0.69},
    31: {303: 0.69, 9: 0.69},
    32: {70: 0.69, 204: 0.69},
    33: {36: 1.0, 164: 1.0},
    34: {100: 0.25, 119: 0.25},
    35: {245: 0.2},
    36: {289: 1.0, 33: 1.0},
    37: {158: 0.68, 301: 0.68},
    38: {58: 0.25, 81: 0.25},
    39: {128: 0.69, 145: 0.69},
    40: {47: 0.25, 89: 0.25, 139: 0.25, 170: 0.25},
    41: {216: 0.69, 253: 0.69, 42: 0.68, 23: 0.68},
    42: {120: 0.69, 292: 0.69, 183: 0.68, 41: 0.68},
    43: {79: 0.69, 219: 0.69, 183: 0.68, 289: 0.68},
    44: {161: 1.0, 166: 1.0},
    45: {207: 0.68, 243: 0.68},
    46: {50: 1.0, 53: 1.0, 6: 1.0},
    47: {22: 0.25, 40: 0.25},
    48: {126: 0.68, 250: 0.68},
    49: {87: 0.25, 197: 0.69, 151: 0.25},
    50: {46: 1.0},
    51: {103: 0.68, 215: 0.68},
    52: {1: 1.0, 265: 1.0},
    53: {214: 1.0, 46: 1.0},
    54: {55: 0.25, 56: 0.25},
    55: {245: 0.25, 54: 0.25},
    56: {12: 0.25, 54: 0.25},
    57: {187: 0.69},
    58: {119: 0.25, 38: 0.25},
    59: {240: 0.25, 258: 0.25},
    60: {126: 0.69, 151: 0.69},
    61: {171: 0.69, 238: 0.69},
    62: {168: 1.0, 280: 1.0},
    63: {203: 0.69, 219: 0.69},
    64: {106: 0.69, 135: 0.69},
    65: {97: 0.69, 20: 0.69},
    66: {67: 1.0, 85: 1.0},
    67: {21: 1.0, 66: 1.0},
    68: {158: 0.68, 256: 0.68},
    69: {86: 0.69, 106: 0.69},
    70: {4: 0.69, 32: 0.69},
    71: {172: 0.68, 297: 0.68},
    72: {286: 0.68, 73: 1.0},
    73: {1: 0.69, 182: 0.69, 72: 1.0},
    74: {99: 0.69, 122: 1.0, 138: 1.0, 287: 1.0, 293: 1.0, 17: 0.69},
    75: {210: 0.69, 222: 0.69},
    76: {181: 0.68, 296: 0.68},
    77: {93: 0.25, 124: 0.25},
    78: {270: 1.0, 15: 1.0},
    79: {27: 0.69, 43: 0.69},
    80: {205: 1.0, 231: 1.0},
    81: {38: 0.25},
    82: {163: 0.69, 193: 0.69},
    83: {193: 1.0, 11: 1.0},
    84: {148: 0.69, 136: 0.25, 29: 0.25},
    85: {129: 1.0, 66: 1.0},
    86: {152: 0.69, 69: 0.69},
    87: {279: 0.25, 255: 1.0, 285: 1.0, 49: 0.25},
    88: {256: 0.68},
    89: {145: 0.2, 170: 0.25, 277: 0.2, 40: 0.25},
    90: {104: 1.0, 145: 1.0},
    91: {109: 0.68, 16: 0.68},
    92: {145: 1.0, 14: 1.0},
    93: {165: 0.25, 288: 0.25, 77: 0.25},
    94: {254: 0.68, 290: 0.68, 282: 1.0, 11: 1.0},
    95: {160: 0.69, 123: 0.2, 224: 0.2, 10: 0.69},
    96: {195: 1.0, 287: 1.0},
    97: {19: 0.69, 65: 0.69},
    98: {173: 0.68, 211: 0.68},
    99: {122: 1.0, 236: 0.69, 74: 0.69},
    100: {111: 0.25, 34: 0.25},
    101: {110: 1.0, 227: 1.0},
    102: {259: 0.25, 277: 0.25},
    103: {109: 0.68, 51: 0.68},
    104: {11: 1.0, 90: 1.0},
    105: {177: 0.68, 196: 0.68},
    106: {64: 0.69, 69: 0.69},
    107: {285: 0.68, 133: 0.69, 197: 0.69, 192: 0.2, 273: 0.2, 28: 0.68},
    108: {141: 1.0, 265: 1.0},
    109: {91: 0.68, 103: 0.68},
    110: {209: 1.0, 265: 0.69, 17: 0.69, 101: 1.0},
    111: {22: 0.25, 100: 0.25},
    112: {181: 0.68, 196: 0.68},
    113: {246: 0.69, 298: 0.69},
    114: {140: 0.69},
    115: {178: 1.0, 184: 1.0, 291: 1.0},
    116: {117: 0.69, 118: 0.69, 132: 0.69},
    117: {118: 0.69, 116: 0.69},
    118: {116: 0.69, 117: 0.69},
    119: {34: 0.25, 58: 0.25},
    120: {238: 0.69, 42: 0.69},
    121: {261: 0.25},
    122: {186: 1.0, 74: 1.0, 99: 1.0},
    123: {145: 0.2, 95: 0.2},
    124: {8: 0.25, 77: 0.25},
    125: {134: 0.69, 271: 0.69},
    126: {259: 0.68, 223: 0.69, 48: 0.68, 60: 0.69},
    127: {186: 0.68, 226: 0.68},
    128: {10: 0.69, 39: 0.69},
    129: {268: 1.0, 85: 1.0},
    130: {131: 0.69, 132: 0.69},
    131: {190: 0.69, 130: 0.69},
    132: {116: 0.69, 130: 0.69},
    133: {146: 0.69, 107: 0.69},
    134: {220: 0.69, 125: 0.69},
    135: {171: 0.69, 64: 0.69},
    136: {191: 0.25, 279: 0.25, 84: 0.25},
    137: {206: 0.69, 298: 0.69},
    138: {74: 1.0},
    139: {264: 0.25, 40: 0.25},
    140: {237: 0.69, 114: 0.69},
    141: {213: 1.0, 108: 1.0},
    142: {290: 0.68, 297: 0.68},
    143: {159: 0.69, 206: 0.69},
    144: {207: 0.68, 282: 0.68},
    145: {223: 0.69, 7: 0.25, 39: 0.69, 89: 0.2, 90: 1.0, 92: 1.0, 123: 0.2},
    146: {236: 0.69, 133: 0.69},
    147: {150: 1.0, 283: 1.0},
    148: {279: 0.69, 84: 0.69},
    149: {162: 0.68, 208: 0.68},
    150: {227: 1.0, 147: 1.0},
    151: {259: 0.25, 197: 0.69, 49: 0.25, 60: 0.69},
    152: {86: 0.69},
    153: {154: 0.68, 247: 0.68},
    154: {230: 0.68, 275: 0.68, 153: 0.68},
    155: {225: 0.69, 284: 0.69},
    156: {167: 1.0, 2: 1.0, 3: 1.0, 13: 0.68, 24: 0.68},
    157: {233: 0.68, 13: 0.25, 23: 0.68, 29: 0.25},
    158: {37: 0.68, 68: 0.68},
    159: {278: 0.69, 143: 0.69},
    160: {266: 0.69, 95: 0.69},
    161: {25: 1.0, 44: 1.0},
    162: {28: 0.68, 149: 0.68},
    163: {11: 0.69, 82: 0.69},
    164: {247: 0.68, 244: 1.0, 24: 0.68, 33: 1.0},
    165: {93: 0.25},
    166: {263: 1.0, 44: 1.0},
    167: {188: 0.25, 13: 0.25, 14: 1.0, 156: 1.0},
    168: {179: 1.0, 214: 1.0, 62: 1.0},
    169: {240: 0.25},
    170: {40: 0.25, 89: 0.25},
    171: {61: 0.69, 135: 0.69},
    172: {282: 0.68, 71: 0.68},
    173: {16: 0.68, 98: 0.68},
    174: {253: 0.69},
    175: {253: 0.69},
    176: {234: 0.69, 30: 0.69},
    177: {239: 0.68, 105: 0.68},
    178: {202: 1.0, 115: 1.0},
    179: {180: 1.0, 168: 1.0},
    180: {199: 1.0, 179: 1.0},
    181: {286: 0.68, 76: 0.68, 112: 0.68},
    182: {194: 0.69, 73: 0.69},
    183: {42: 0.68, 43: 0.68},
    184: {199: 1.0, 115: 1.0},
    185: {237: 0.69, 281: 0.69},
    186: {208: 0.68, 18: 1.0, 122: 1.0, 127: 0.68},
    187: {232: 0.69, 57: 0.69},
    188: {7: 0.25, 167: 0.25},
    189: {},
    190: {30: 0.69, 131: 0.69},
    191: {245: 0.25, 136: 0.25},
    192: {197: 0.69, 212: 0.69, 259: 0.68, 277: 0.2, 28: 0.68, 107: 0.2},
    193: {278: 0.69, 218: 1.0, 18: 1.0, 82: 0.69, 83: 1.0},
    194: {5: 0.69, 182: 0.69},
    195: {205: 1.0, 96: 1.0},
    196: {105: 0.68, 112: 0.68},
    197: {49: 0.69, 107: 0.69, 151: 0.69, 192: 0.69},
    198: {272: 0.2, 273: 0.2},
    199: {180: 1.0, 184: 1.0},
    200: {270: 1.0, 289: 1.0},
    201: {284: 0.69, 292: 0.69, 4: 0.69, 27: 0.69},
    202: {282: 1.0, 178: 1.0},
    203: {217: 0.69, 63: 0.69},
    204: {247: 0.69, 32: 0.69},
    205: {80: 1.0, 195: 1.0},
    206: {137: 0.69, 143: 0.69},
    207: {45: 0.68, 144: 0.68},
    208: {149: 0.68, 186: 0.68},
    209: {242: 1.0, 110: 1.0},
    210: {291: 1.0, 235: 0.69, 75: 0.69},
    211: {275: 0.68, 98: 0.68},
    212: {11: 0.69, 192: 0.69},
    213: {141: 1.0},
    214: {53: 1.0, 168: 1.0},
    215: {301: 0.68, 51: 0.68},
    216: {276: 0.69, 41: 0.69},
    217: {20: 0.69, 203: 0.69},
    218: {283: 1.0, 193: 1.0},
    219: {43: 0.69, 63: 0.69},
    220: {222: 0.69, 134: 0.69},
    221: {239: 0.68, 294: 0.68},
    222: {75: 0.69, 220: 0.69},
    223: {126: 0.69, 145: 0.69},
    224: {260: 0.2, 95: 0.2},
    225: {262: 0.69, 276: 0.69, 295: 0.69, 13: 0.69, 155: 0.69},
    226: {296: 0.68, 127: 0.68},
    227: {101: 1.0, 150: 1.0},
    228: {295: 0.69},
    229: {236: 1.0, 273: 1.0},
    230: {241: 0.68, 154: 0.68},
    231: {300: 1.0, 80: 1.0},
    232: {9: 0.69, 187: 0.69},
    233: {279: 0.68, 157: 0.68},
    234: {1: 0.69, 176: 0.69},
    235: {251: 0.69, 210: 0.69},
    236: {99: 0.69, 146: 0.69, 229: 1.0},
    237: {140: 0.69, 185: 0.69},
    238: {61: 0.69, 120: 0.69},
    239: {177: 0.68, 221: 0.68},
    240: {59: 0.25, 169: 0.25},
    241: {301: 0.68, 230: 0.68},
    242: {265: 1.0, 209: 1.0},
    243: {45: 0.68},
    244: {295: 1.0, 164: 1.0},
    245: {272: 0.2, 35: 0.2, 55: 0.25, 191: 0.25},
    246: {281: 0.69, 113: 0.69},
    247: {289: 0.68, 153: 0.68, 164: 0.68, 204: 0.69},
    248: {273: 1.0, 285: 1.0},
    249: {254: 0.68, 11: 0.68},
    250: {13: 0.68, 48: 0.68},
    251: {252: 0.69, 235: 0.69},
    252: {5: 0.69, 251: 0.69},
    253: {41: 0.69, 174: 0.69, 175: 0.69},
    254: {94: 0.68, 249: 0.68},
    255: {25: 1.0, 87: 1.0},
    256: {68: 0.68, 88: 0.68},
    257: {258: 0.25, 12: 0.25},
    258: {59: 0.25, 257: 0.25},
    259: {102: 0.25, 126: 0.68, 151: 0.25, 192: 0.68},
    260: {26: 0.2, 224: 0.2},
    261: {302: 0.25, 121: 0.25},
    262: {225: 0.69},
    263: {2: 1.0, 3: 1.0, 166: 1.0},
    264: {8: 0.25, 139: 0.25},
    265: {1: 0.69, 52: 1.0, 108: 1.0, 110: 0.69, 242: 1.0},
    266: {303: 0.69, 160: 0.69},
    267: {268: 1.0},
    268: {129: 1.0, 267: 1.0},
    269: {15: 1.0, 21: 1.0},
    270: {78: 1.0, 200: 1.0},
    271: {125: 0.69},
    272: {198: 0.2, 245: 0.2},
    273: {107: 0.2, 198: 0.2, 229: 1.0, 248: 1.0},
    274: {26: 0.2},
    275: {154: 0.68, 211: 0.68},
    276: {216: 0.69, 225: 0.69},
    277: {89: 0.2, 102: 0.25, 192: 0.2},
    278: {159: 0.69, 193: 0.69},
    279: {285: 0.68, 13: 0.68, 87: 0.25, 136: 0.25, 148: 0.69, 233: 0.68},
    280: {62: 1.0},
    281: {185: 0.69, 246: 0.69},
    282: {94: 1.0, 144: 0.68, 172: 0.68, 202: 1.0},
    283: {147: 1.0, 218: 1.0},
    284: {292: 0.69, 155: 0.69, 201: 0.69},
    285: {87: 1.0, 107: 0.68, 248: 1.0, 279: 0.68},
    286: {72: 0.68, 181: 0.68},
    287: {74: 1.0, 96: 1.0},
    288: {302: 0.25, 93: 0.25},
    289: {36: 1.0, 43: 0.68, 200: 1.0, 247: 0.68},
    290: {94: 0.68, 142: 0.68},
    291: {115: 1.0, 210: 1.0},
    292: {42: 0.69, 201: 0.69, 284: 0.69},
    293: {17: 1.0, 74: 1.0},
    294: {221: 0.68},
    295: {3: 1.0, 225: 0.69, 228: 0.69, 244: 1.0},
    296: {76: 0.68, 226: 0.68},
    297: {71: 0.68, 142: 0.68},
    298: {113: 0.69, 137: 0.69},
    299: {300: 1.0},
    303: {31: 0.69, 266: 0.69},
    301: {37: 0.68, 215: 0.68, 241: 0.68},
    300: {231: 1.0, 299: 1.0},
    302: {261: 0.25, 288: 0.25}
}

app = Flask(__name__)
app.config['ENV'] = 'development'
app.config['DEBUG'] = True
app.config['TESTING'] = True


@app.route('/')
def home():
    return render_template('home.html')


@app.route('/api/v0.1/path/<int:n1>/<int:n2>', methods=['GET'])
def c(n1, n2):
    return jsonify({'path': shortest_path(graphdata, n1, n2)})


@app.route('/static/<path:path>')
def send_static(path):
    return send_from_directory('static', path)


if __name__ == '__main__':
    app.run(debug=True)
